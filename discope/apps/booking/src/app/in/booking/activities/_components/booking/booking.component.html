<div class="overlay-container" *ngIf="loading"><mat-spinner></mat-spinner></div>
<div class="container">
    <div class="outer-wrapper" style="width: 100%">
        <div class="header">
            <div style="flex: 1;"></div>
            <div style="margin-left: auto; font-size: 20px;">Total TTC {{ instance?.price ?? 0 | number: '1.2-2'}} â‚¬</div>
        </div>

        <div class="inner-wrapper" *ngIf="instance.booking_lines_groups_ids.length">
            <div class="groups-list" cdkDropList (cdkDropListDropped)="ondropGroup($event)">
                <!-- groups -->
                <ng-container *ngFor="let group of instance.booking_lines_groups_ids;">
                    <div class="group-item"
                         cdkDrag
                         [cdkDragData]="group"
                         [cdkDragDisabled]="maximized_group_id == group.id"
                         [class.group-selected]="maximized_group_id == group.id"
                         [class.group-extra]="group.is_extra"
                         [class.group-autosale]="group.is_autosale"
                         [class.hidden]="maximized_group_id != 0 && maximized_group_id != group.id"
                         [@groupInOutAnimation]
                    >
                        <div class="group-handle" cdkDragHandle *ngIf="maximized_group_id == 0"><mat-icon style="font-size: 16px;">drag_indicator</mat-icon></div>
                        <booking-activities-booking-group
                            [model]="group"
                            [booking]="instance"
                        ></booking-activities-booking-group>
                    </div>
                </ng-container>
            </div>
        </div>
    </div>
</div>
